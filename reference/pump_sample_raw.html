<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculating Needed Sample Size for Raw (Unadjusted) Power — pump_sample_raw • PUMP</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculating Needed Sample Size for Raw (Unadjusted) Power — pump_sample_raw"><meta name="description" content="This is a helper function for getting a needed Sample Size when no
adjustments has been made to the test statistics."><meta property="og:description" content="This is a helper function for getting a needed Sample Size when no
adjustments has been made to the test statistics."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PUMP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pump_demo.html">Demonstration of the PUMP package</a></li>
    <li><a class="dropdown-item" href="../articles/pump_sample_demo.html">Demo and discussion of the pump_sample method</a></li>
    <li><a class="dropdown-item" href="../articles/pump_simulate.html">Demo of simulating multi-level data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MDRCNY/PUMP/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculating Needed Sample Size for Raw (Unadjusted) Power</h1>
      <small class="dont-index">Source: <a href="https://github.com/MDRCNY/PUMP/blob/main/R/pump_sample.R" class="external-link"><code>R/pump_sample.R</code></a></small>
      <div class="d-none name"><code>pump_sample_raw.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a helper function for getting a needed Sample Size when no
adjustments has been made to the test statistics.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pump_sample_raw</span><span class="op">(</span></span>
<span>  <span class="va">d_m</span>,</span>
<span>  <span class="va">MTP</span>,</span>
<span>  <span class="va">typesample</span>,</span>
<span>  <span class="va">MDES</span>,</span>
<span>  nbar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  J <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  K <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">target.power</span>,</span>
<span>  <span class="va">Tbar</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  <span class="va">two.tailed</span>,</span>
<span>  numCovar.1 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  numCovar.2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  numCovar.3 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  <span class="va">R2.1</span>,</span>
<span>  R2.2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  R2.3 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ICC.2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ICC.3 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  omega.2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  omega.3 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max.steps <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  warn.small <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-d-m">d_m<a class="anchor" aria-label="anchor" href="#arg-d-m"></a></dt>
<dd><p>string; a single context, which is a design and model
code. See pump_info() for list of choices.</p></dd>


<dt id="arg-mtp">MTP<a class="anchor" aria-label="anchor" href="#arg-mtp"></a></dt>
<dd><p>string, or vector of strings; multiple testing
procedure(s). See pump_info() for list of choices.</p></dd>


<dt id="arg-typesample">typesample<a class="anchor" aria-label="anchor" href="#arg-typesample"></a></dt>
<dd><p>type of sample size to calculate: J, K, or nbar</p></dd>


<dt id="arg-mdes">MDES<a class="anchor" aria-label="anchor" href="#arg-mdes"></a></dt>
<dd><p>scalar or vector; the desired MDES values for each
outcome. Please provide a scalar, a vector of length M, or vector
of values for non-zero outcomes.</p></dd>


<dt id="arg-nbar">nbar<a class="anchor" aria-label="anchor" href="#arg-nbar"></a></dt>
<dd><p>scalar; the harmonic mean of the number of level 1
units per level 2 unit (students per school). Note that this is
not the total number of level 1 units, but instead the number of
level 1 units nested within each level 2 unit, so the total
number of level 1 units is nbar x J x K.</p></dd>


<dt id="arg-j">J<a class="anchor" aria-label="anchor" href="#arg-j"></a></dt>
<dd><p>scalar; the harmonic mean of number of level 2 units per
level 3 unit (schools per district). Note that this is not the
total number of level 2 units, but instead the number of level 2
units nested within each level 3 unit, so the total number of
level 2 units is J x K.</p></dd>


<dt id="arg-k">K<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>scalar; the number of level 3 units (districts).</p></dd>


<dt id="arg-target-power">target.power<a class="anchor" aria-label="anchor" href="#arg-target-power"></a></dt>
<dd><p>target power to arrive at</p></dd>


<dt id="arg-tbar">Tbar<a class="anchor" aria-label="anchor" href="#arg-tbar"></a></dt>
<dd><p>scalar; the proportion of samples that are assigned to
the treatment.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>scalar; the family wise error rate (FWER).</p></dd>


<dt id="arg-two-tailed">two.tailed<a class="anchor" aria-label="anchor" href="#arg-two-tailed"></a></dt>
<dd><p>scalar; TRUE/FALSE for two-tailed or one-tailed
power calculation.</p></dd>


<dt id="arg-numcovar-">numCovar.1<a class="anchor" aria-label="anchor" href="#arg-numcovar-"></a></dt>
<dd><p>scalar; number of level 1 (individual)
covariates.</p></dd>


<dt id="arg-numcovar-">numCovar.2<a class="anchor" aria-label="anchor" href="#arg-numcovar-"></a></dt>
<dd><p>scalar; number of level 2 (school) covariates.</p></dd>


<dt id="arg-numcovar-">numCovar.3<a class="anchor" aria-label="anchor" href="#arg-numcovar-"></a></dt>
<dd><p>scalar; number of level 3 (district) covariates.</p></dd>


<dt id="arg-r-">R2.1<a class="anchor" aria-label="anchor" href="#arg-r-"></a></dt>
<dd><p>scalar, or vector of length M; percent of variation
explained by level 1 covariates for each outcome.</p></dd>


<dt id="arg-r-">R2.2<a class="anchor" aria-label="anchor" href="#arg-r-"></a></dt>
<dd><p>scalar, or vector of length M; percent of variation
explained by level 2 covariates for each outcome.</p></dd>


<dt id="arg-r-">R2.3<a class="anchor" aria-label="anchor" href="#arg-r-"></a></dt>
<dd><p>scalar, or vector of length M; percent of variation
explained by level 3 covariates for each outcome.</p></dd>


<dt id="arg-icc-">ICC.2<a class="anchor" aria-label="anchor" href="#arg-icc-"></a></dt>
<dd><p>scalar, or vector of length M; level 2 (school)
intraclass correlation.</p></dd>


<dt id="arg-icc-">ICC.3<a class="anchor" aria-label="anchor" href="#arg-icc-"></a></dt>
<dd><p>scalar, or vector length M; level 3 (district)
intraclass correlation.</p></dd>


<dt id="arg-omega-">omega.2<a class="anchor" aria-label="anchor" href="#arg-omega-"></a></dt>
<dd><p>scalar, or vector of length M; ratio of variance of
level 2 average impacts to variance of level 2 random intercepts.</p></dd>


<dt id="arg-omega-">omega.3<a class="anchor" aria-label="anchor" href="#arg-omega-"></a></dt>
<dd><p>scalar, or vector of length M; ratio of variance of
level 3 average impacts to variance of level 3 random intercepts.</p></dd>


<dt id="arg-max-steps">max.steps<a class="anchor" aria-label="anchor" href="#arg-max-steps"></a></dt>
<dd><p>how many steps allowed before terminating</p></dd>


<dt id="arg-warn-small">warn.small<a class="anchor" aria-label="anchor" href="#arg-warn-small"></a></dt>
<dd><p>Warn if degrees of freedom issues are causing inability to
achieve target power for sample size.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Requisite sample size (as integer) and associated degrees of freedom.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It is for a single, individual outcome.  It only takes scalar values for all
its arguments, and does not have an M argument (for number of outcomes).</p>
<p>It requires iteration because we do not know the degrees of freedom, and so
we guess and then calculate sample size, and then recalculate df based on
sample size, until we converge.</p>
<p>It is possible that the returned sample size will be the minimum sample size
required to have at least 1 degree of freedom (even if this provides higher
than target level power).</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luke Miratrix, Kristen Hunter, Zarni Htet, Kristin Porter, Institute of Education Sciences.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate simulated multi-level data (simulation function) — gen_sim_data • PUMP</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate simulated multi-level data (simulation function) — gen_sim_data"><meta name="description" content="Generates simulated data for multi-level RCTs for
  pump-supported designs and models for both unobserved and observed
  potential outcomes.
Takes in two options:
- a pumpresult object OR
- a list of necessary data-generating parameters
  - the context (d_m)
  - Tbar (proportion assigned to treatment)
This function is beyond the main scope of calculating power, and
  is instead used for simulating data. For more info on use, see
  the simulation vignette."><meta property="og:description" content="Generates simulated data for multi-level RCTs for
  pump-supported designs and models for both unobserved and observed
  potential outcomes.
Takes in two options:
- a pumpresult object OR
- a list of necessary data-generating parameters
  - the context (d_m)
  - Tbar (proportion assigned to treatment)
This function is beyond the main scope of calculating power, and
  is instead used for simulating data. For more info on use, see
  the simulation vignette."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PUMP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pump_demo.html">Demonstration of the PUMP package</a></li>
    <li><a class="dropdown-item" href="../articles/pump_sample_demo.html">Demo and discussion of the pump_sample method</a></li>
    <li><a class="dropdown-item" href="../articles/pump_simulate.html">Demo of simulating multi-level data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MDRCNY/PUMP/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate simulated multi-level data (simulation function)</h1>
      <small class="dont-index">Source: <a href="https://github.com/MDRCNY/PUMP/blob/main/R/simulation.R" class="external-link"><code>R/simulation.R</code></a></small>
      <div class="d-none name"><code>gen_sim_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates simulated data for multi-level RCTs for
  pump-supported designs and models for both unobserved and observed
  potential outcomes.</p>
<p>Takes in two options:</p>
<p>- a pumpresult object OR</p>
<p>- a list of necessary data-generating parameters
  - the context (d_m)
  - Tbar (proportion assigned to treatment)</p>
<p>This function is beyond the main scope of calculating power, and
  is instead used for simulating data. For more info on use, see
  the simulation vignette.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gen_sim_data</span><span class="op">(</span></span>
<span>  d_m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  param.list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Tbar <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  pump.object <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return.as.dataframe <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  no.list <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_POs <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-d-m">d_m<a class="anchor" aria-label="anchor" href="#arg-d-m"></a></dt>
<dd><p>string; a single context, which is a design and model
code. See pump_info() for list of choices.</p></dd>


<dt id="arg-param-list">param.list<a class="anchor" aria-label="anchor" href="#arg-param-list"></a></dt>
<dd><p>list; model parameters such as ICC, R2, etc. See
simulation vignette for details.</p></dd>


<dt id="arg-tbar">Tbar<a class="anchor" aria-label="anchor" href="#arg-tbar"></a></dt>
<dd><p>scalar; the proportion of samples that are assigned to
the treatment.</p></dd>


<dt id="arg-pump-object">pump.object<a class="anchor" aria-label="anchor" href="#arg-pump-object"></a></dt>
<dd><p>A pumpresult object.</p></dd>


<dt id="arg-return-as-dataframe">return.as.dataframe<a class="anchor" aria-label="anchor" href="#arg-return-as-dataframe"></a></dt>
<dd><p>TRUE means return list of dataframes,
one for each outcome.  FALSE means return components of the
covariates, etc., in a list.</p></dd>


<dt id="arg-no-list">no.list<a class="anchor" aria-label="anchor" href="#arg-no-list"></a></dt>
<dd><p>Only relevant if return.as.dataframe=TRUE.
no.list=TRUE means if M=1 return the dataframe, not a list of
length 1.  FALSE means return a list of length 1, even if there
is only 1 outcome.</p></dd>


<dt id="arg-include-pos">include_POs<a class="anchor" aria-label="anchor" href="#arg-include-pos"></a></dt>
<dd><p>Include columns for the potential outcomes in
addition to the observed outcome.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>list; potential outcomes, covariates, observed outcomes,
  and treatment assignment.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="pump_power.html">pump_power</a></span><span class="op">(</span> d_m <span class="op">=</span> <span class="st">"d3.2_m3ff2rc"</span>,</span></span>
<span class="r-in"><span>                  MTP <span class="op">=</span> <span class="st">"BF"</span>,</span></span>
<span class="r-in"><span>                  MDES <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span> <span class="fl">0.10</span>, <span class="fl">3</span> <span class="op">)</span>,</span></span>
<span class="r-in"><span>                  M <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                  J <span class="op">=</span> <span class="fl">3</span>, <span class="co"># number of schools/block</span></span></span>
<span class="r-in"><span>                  K <span class="op">=</span> <span class="fl">21</span>, <span class="co"># number RA blocks</span></span></span>
<span class="r-in"><span>                  nbar <span class="op">=</span> <span class="fl">258</span>,</span></span>
<span class="r-in"><span>                  Tbar <span class="op">=</span> <span class="fl">0.50</span>, <span class="co"># prop Tx</span></span></span>
<span class="r-in"><span>                  alpha <span class="op">=</span> <span class="fl">0.05</span>, <span class="co"># significance level</span></span></span>
<span class="r-in"><span>                  numCovar.1 <span class="op">=</span> <span class="fl">5</span>, numCovar.2 <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                  R2.1 <span class="op">=</span> <span class="fl">0.1</span>, R2.2 <span class="op">=</span> <span class="fl">0.7</span>,</span></span>
<span class="r-in"><span>                  ICC.2 <span class="op">=</span> <span class="fl">0.05</span>, ICC.3 <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                  rho <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                  tnum <span class="op">=</span> <span class="fl">200</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim.data</span> <span class="op">&lt;-</span> <span class="fu">gen_sim_data</span><span class="op">(</span>pump.object <span class="op">=</span> <span class="va">pp</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luke Miratrix, Kristen Hunter, Zarni Htet, Kristin Porter, Institute of Education Sciences.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>


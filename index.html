<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Power Under Multiplicity Project â€¢ PUMP</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Power Under Multiplicity Project">
<meta name="description" content="Estimates power, minimum detectable effect size (MDES) and sample size requirements. The context is multilevel randomized experiments with multiple outcomes. The estimation takes into account the use of multiple testing procedures. Development of this package was supported by a grant from the Institute of Education Sciences (R305D170030). For a full package description, including a detailed technical appendix, see &lt;doi:10.18637/jss.v108.i06&gt;.">
<meta property="og:description" content="Estimates power, minimum detectable effect size (MDES) and sample size requirements. The context is multilevel randomized experiments with multiple outcomes. The estimation takes into account the use of multiple testing procedures. Development of this package was supported by a grant from the Institute of Education Sciences (R305D170030). For a full package description, including a detailed technical appendix, see &lt;doi:10.18637/jss.v108.i06&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">PUMP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/pump_demo.html">Demonstration of the PUMP package</a></li>
    <li><a class="dropdown-item" href="articles/pump_sample_demo.html">Demo and discussion of the pump_sample method</a></li>
    <li><a class="dropdown-item" href="articles/pump_simulate.html">Demo of simulating multi-level data</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MDRCNY/PUMP/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="pump-package">PUMP package<a class="anchor" aria-label="anchor" href="#pump-package"></a>
</h1></div>
<p>Last updated: January 2025.</p>
<center>
<img src="reference/figures/pump_icon.png" alt="PUMP icon" width="300">
</center>
<p>Authors:</p>
<ul>
<li>Zarni Htet</li>
<li>Kristen Hunter</li>
<li>Luke Miratrix</li>
<li>Kristin Porter</li>
</ul>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p><a href="https://mdrcny.github.io/PUMP/" class="external-link">https://mdrcny.github.io/PUMP/</a></p>
<p>Using <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>.</p>
</div>
<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p>For randomized controlled trials (RCTs) with a single intervention being measured on multiple outcomes, researchers often apply a multiple testing procedure (such as Bonferroni or Benjamini-Hochberg) to adjust <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math>-values. Such an adjustment reduces the likelihood of spurious findings, but also changes the statistical power, sometimes substantially, which reduces the probability of detecting effects when they do exist. However, this consideration is frequently ignored in typical power analyses, as existing tools do not easily accommodate the use of multiple testing procedures.</p>
<p>We introduce the PUMP R package as a tool for analysts to estimate statistical power, minimum detectable effect size, and sample size requirements for multi-level RCTs with multiple outcomes. Multiple outcomes are accounted for in two ways. First, power estimates from PUMP properly account for the adjustment in <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math>-values from applying a multiple testing procedure. Second, as researchers change their focus from one outcome to multiple outcomes, different definitions of statistical power emerge.</p>
<p>PUMP allows researchers to consider a variety of definitions of power, as some may be more appropriate for the goals of their study. The package estimates power for frequentist multi-level mixed effects models, and supports a variety of commonly-used RCT designs and models and multiple testing procedures. In addition to the main functionality of estimating power, minimum detectable effect size, and sample size requirements, the package allows the user to easily explore sensitivity of these quantities to changes in underlying assumptions.</p>
<p>Please see the vignettes for examples of how to use this package.</p>
</div>
<div class="section level2">
<h2 id="reference-and-support-materials">Reference and support materials<a class="anchor" aria-label="anchor" href="#reference-and-support-materials"></a>
</h2>
<p>The following give several tools and resources for using this package most effectively:</p>
<ul>
<li><a href="https://www.jstatsoft.org/article/view/v108i06" class="external-link">Journal of Statistical Software article on the package</a></li>
<li><a href="https://www.jstatsoft.org/index.php/jss/article/view/v108i06/4541" class="external-link">Detailed technical appendix giving power formula for all models</a></li>
<li><a href="https://public.mdrc.org/pump/" class="external-link">Shiny app Power Calculator using this package</a></li>
<li><a href="https://github.com/kristenbhunter/presentations/tree/master/2022/NCI2022" class="external-link">A slide-deck overview of PUMP</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="the-hot-off-the-press-version">The hot-off-the-press version<a class="anchor" aria-label="anchor" href="#the-hot-off-the-press-version"></a>
</h2>
<p>Our package is on CRAN, but you can install the latest version on GitHub via:</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"https://github.com/MDRCNY/PUMP"</span> <span class="op">)</span></span></code></pre>
<p>The latest version has some bug fixes and extra features, and we strongly recommend using it over the CRAN version.</p>
</div>
<div class="section level2">
<h2 id="a-small-illustration">A small illustration<a class="anchor" aria-label="anchor" href="#a-small-illustration"></a>
</h2>
<p>We provide below one example of using PUMP to calculate a minimium detectable effect size (MDES). The user specifies the RCT design and model (d_m), the multiple testing procedure (MTP, in this case Holm), the target power (0.8), and the type of power desired (individual power for outcome 1). The user also specifies a variety of design and model parameters, such as the number of outcomes, sample sizes at different levels, variation explained by covariates, etc.</p>
<pre><code><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pump_mdes.html">pump_mdes</a></span><span class="op">(</span></span>
<span>  d_m <span class="op">=</span> <span class="st">"d3.2_m3fc2rc"</span>,         <span class="co"># choice of design and analysis strategy</span></span>
<span>  MTP <span class="op">=</span> <span class="st">"HO"</span>,                   <span class="co"># multiple testing procedure</span></span>
<span>  target.power <span class="op">=</span> <span class="fl">0.80</span>,          <span class="co"># desired power</span></span>
<span>  power.definition <span class="op">=</span> <span class="st">"D1indiv"</span>, <span class="co"># power type</span></span>
<span>  M <span class="op">=</span> <span class="fl">5</span>,                        <span class="co"># number of outcomes</span></span>
<span>  J <span class="op">=</span> <span class="fl">3</span>,                        <span class="co"># number of schools per block</span></span>
<span>  K <span class="op">=</span> <span class="fl">21</span>,                       <span class="co"># number districts</span></span>
<span>  nbar <span class="op">=</span> <span class="fl">258</span>,                   <span class="co"># average number of students per school</span></span>
<span>  Tbar <span class="op">=</span> <span class="fl">0.50</span>,                  <span class="co"># prop treated</span></span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,                 <span class="co"># significance level</span></span>
<span>  numCovar.1 <span class="op">=</span> <span class="fl">5</span>,               <span class="co"># number of covariates at level 1</span></span>
<span>  numCovar.2 <span class="op">=</span> <span class="fl">3</span>,               <span class="co"># number of covariates at level 2</span></span>
<span>  R2.1 <span class="op">=</span> <span class="fl">0.1</span>, R2.2 <span class="op">=</span> <span class="fl">0.7</span>,       <span class="co"># explanatory power of covariates for each level</span></span>
<span>  ICC.2 <span class="op">=</span> <span class="fl">0.05</span>, ICC.3 <span class="op">=</span> <span class="fl">0.4</span>,    <span class="co"># intraclass correlation coefficients</span></span>
<span>  rho <span class="op">=</span> <span class="fl">0.4</span> <span class="op">)</span>                   <span class="co"># how correlated outcomes are</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=PUMP" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/MDRCNY/PUMP/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/MDRCNY/PUMP/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing PUMP</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Luke Miratrix <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0078-1906" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Kristen Hunter <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-5678-4620" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Zarni Htet <br><small class="roles"> Author </small>   </li>
<li>Kristin Porter <br><small class="roles"> Author </small>   </li>
<li>Institute of Education Sciences <br><small class="roles"> Funder </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luke Miratrix, Kristen Hunter, Zarni Htet, Kristin Porter, Institute of Education Sciences.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
